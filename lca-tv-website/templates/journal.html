{% extends "base.html" %}

{% block title %}Le Journal - LCA TV{% endblock %}

{% block content %}
<div style="display: grid; grid-template-columns: 1fr 350px; gap: 30px; margin-top: 0;">
    <div class="content-left">
        <h1 style="font-size: 32px; color: #28a745; margin-bottom: 10px; text-align: center;">Le Journal LCA TV</h1>
        <p style="color: #666; margin-bottom: 40px; text-align: center; font-size: 16px;">Toute l'actualité nationale et internationale avec nos journalistes</p>
        
        <!-- Live News Section -->
        <div style="background: linear-gradient(135deg, #e74c3c, #c0392b); color: white; border-radius: 20px; padding: 40px; margin-bottom: 40px; text-align: center; position: relative; overflow: hidden;">
            <div style="position: absolute; top: -50px; right: -50px; width: 150px; height: 150px; background: rgba(255,255,255,0.1); border-radius: 50%; opacity: 0.5;"></div>
            <div style="position: absolute; bottom: -30px; left: -30px; width: 100px; height: 100px; background: rgba(255,255,255,0.1); border-radius: 50%; opacity: 0.3;"></div>
            <div style="position: relative; z-index: 2;">
                <div style="width: 100px;  height: 100px; background: rgba(255,255,255,0.2); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 20px; font-size: 2.5rem;">
                    <i class="fas fa-broadcast-tower"></i>
                </div>
                <h2 style="font-size: 2.2rem; margin-bottom: 15px; font-weight: bold;">Journal en Direct</h2>
                <p style="font-size: 1.1rem; opacity: 0.9; line-height: 1.6; margin-bottom: 20px;">Suivez l'actualité en temps réel avec notre équipe de journalistes professionnels.</p>
                <div style="display: flex; align-items: center; justify-content: center; gap: 10px; margin-bottom: 20px;">
                    <span style="width: 12px; height: 12px; background: white; border-radius: 50%; animation: pulse 2s infinite;"></span>
                    <span style="font-weight: bold; font-size: 1.1rem;">EN DIRECT MAINTENANT</span>
                </div>
                <a href="{{ url_for('live') }}" style="background: white; color: #e74c3c; padding: 15px 30px; border-radius: 8px; text-decoration: none; font-weight: 600; display: inline-flex; align-items: center; gap: 10px; transition: transform 0.3s ease;">
                    <i class="fas fa-play"></i>
                    Regarder le Journal
                </a>
            </div>
        </div>

        <!-- News Categories -->
        <div style="margin-bottom: 50px;">
            <h2 style="font-size: 1.8rem; color: #333; margin-bottom: 30px; font-weight: bold; display: flex; align-items: center; gap: 10px;">
                <i class="fas fa-newspaper" style="color: #e74c3c;"></i>
                Actualités par Catégorie
            </h2>
            
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-bottom: 30px;">
                <a href="{{ url_for('videos_by_category', category='politique') }}" style="background: white; border-radius: 15px; padding: 25px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); text-decoration: none; transition: transform 0.3s ease; border-top: 4px solid #e74c3c;">
                    <div style="width: 60px; height: 60px; background: linear-gradient(135deg, #e74c3c, #c0392b); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 15px; color: white; font-size: 1.5rem;">
                        <i class="fas fa-landmark"></i>
                    </div>
                    <h3 style="color: #333; margin-bottom: 10px; text-align: center;">Politique</h3>
                    <p style="color: #666; font-size: 0.9rem; text-align: center;">Actualités politiques nationales et internationales</p>
                </a>

                <a href="{{ url_for('videos_by_category', category='economie') }}" style="background: white; border-radius: 15px; padding: 25px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); text-decoration: none; transition: transform 0.3s ease; border-top: 4px solid #28a745;">
                    <div style="width: 60px; height: 60px; background: linear-gradient(135deg, #28a745, #20693e); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 15px; color: white; font-size: 1.5rem;">
                        <i class="fas fa-chart-line"></i>
                    </div>
                    <h3 style="color: #333; margin-bottom: 10px; text-align: center;">Économie</h3>
                    <p style="color: #666; font-size: 0.9rem; text-align: center;">Développement économique et business</p>
                </a>

                <a href="{{ url_for('videos_by_category', category='sport') }}" style="background: white; border-radius: 15px; padding: 25px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); text-decoration: none; transition: transform 0.3s ease; border-top: 4px solid #4472c4;">
                    <div style="width: 60px; height: 60px; background: linear-gradient(135deg, #4472c4, #3451a3); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 15px; color: white; font-size: 1.5rem;">
                        <i class="fas fa-futbol"></i>
                    </div>
                    <h3 style="color: #333; margin-bottom: 10px; text-align: center;">Sport</h3>
                    <p style="color: #666; font-size: 0.9rem; text-align: center;">Étalons du Burkina et sport national</p>
                </a>

                <a href="{{ url_for('videos_by_category', category='sante') }}" style="background: white; border-radius: 15px; padding: 25px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); text-decoration: none; transition: transform 0.3s ease; border-top: 4px solid #f39c12;">
                    <div style="width: 60px; height: 60px; background: linear-gradient(135deg, #f39c12, #e67e22); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 15px; color: white; font-size: 1.5rem;">
                        <i class="fas fa-heartbeat"></i>
                    </div>
                    <h3 style="color: #333; margin-bottom: 10px; text-align: center;">Santé</h3>
                    <p style="color: #666; font-size: 0.9rem; text-align: center;">Santé publique et prévention</p>
                </a>
            </div>
        </div>

        <!-- Latest News Videos -->
        <div style="margin-bottom: 50px;">
            <h2 style="font-size: 1.8rem; color: #333; margin-bottom: 30px; font-weight: bold; display: flex; align-items: center; gap: 10px;">
                <i class="fas fa-clock" style="color: #4472c4;"></i>
                Dernières Actualités
            </h2>
            
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 25px;">
                {% for video in videos %}
                <div class="news-card" style="background: white; border-radius: 15px; overflow: hidden; box-shadow: 0 10px 30px rgba(0,0,0,0.1); transition: transform 0.3s ease; cursor: pointer;" data-video-id="{{ video.id }}">
                    <div style="position: relative; height: 200px; overflow: hidden;">
                        <img src="{{ video.thumbnail }}" style="width: 100%; height: 100%; object-fit: cover;">
                        <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 60px; height: 60px; background: rgba(231, 76, 60, 0.9); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 1.5rem; opacity: 0; transition: opacity 0.3s ease;">
                            <i class="fas fa-play"></i>
                        </div>
                        <div style="position: absolute; top: 15px; left: 15px; background: #e74c3c; color: white; padding: 6px 12px; border-radius: 20px; font-size: 12px; font-weight: bold;">
                            ACTUALITÉS
                        </div>
                        <div style="position: absolute; bottom: 15px; right: 15px; background: rgba(0,0,0,0.7); color: white; padding: 6px 12px; border-radius: 20px; font-size: 12px;">
                            {{ video.published_at[:10] }}
                        </div>
                    </div>
                    <div style="padding: 20px;">
                        <h3 style="font-size: 1.2rem; font-weight: bold; color: #333; margin-bottom: 10px; line-height: 1.4;">{{ video.title }}</h3>
                        <p style="color: #666; font-size: 0.9rem; line-height: 1.5; margin-bottom: 15px;">{{ video.description[:120] }}{% if video.description|length > 120 %}...{% endif %}</p>
                        <div style="display: flex; justify-content: space-between; align-items: center; font-size: 0.8rem; color: #888;">
                            <span><i class="fas fa-calendar"></i> {{ video.published_at[:10] }}</span>
                            <span style="background: #28a745; color: white; padding: 4px 8px; border-radius: 12px; font-weight: bold; text-transform: uppercase;">{{ video.category }}</span>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>

        <!-- News Schedule -->
        <div style="margin-bottom: 40px;">
            <h2 style="font-size: 1.8rem; color: #333; margin-bottom: 30px; font-weight: bold; display: flex; align-items: center; gap: 10px;">
                <i class="fas fa-calendar-alt" style="color: #28a745;"></i>
                Grille des Journaux
            </h2>
            
            <div style="background: white; border-radius: 15px; padding: 30px; box-shadow: 0 10px 30px rgba(0,0,0,0.1);">
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 25px;">
                    <div style="text-align: center; padding: 20px; border: 2px solid #e74c3c; border-radius: 12px;">
                        <div style="width: 60px; height: 60px; background: #e74c3c; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 15px; color: white; font-size: 1.5rem;">
                            <i class="fas fa-sun"></i>
                        </div>
                        <h4 style="color: #333; margin-bottom: 10px;">Journal du Matin</h4>
                        <p style="color: #e74c3c; font-weight: bold; font-size: 1.2rem;">07:30</p>
                        <p style="color: #666; font-size: 0.9rem;">Réveil avec l'actualité</p>
                    </div>

                    <div style="text-align: center; padding: 20px; border: 2px solid #f39c12; border-radius: 12px;">
                        <div style="width: 60px; height: 60px; background: #f39c12; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 15px; color: white; font-size: 1.5rem;">
                            <i class="fas fa-sun"></i>
                        </div>
                        <h4 style="color: #333; margin-bottom: 10px;">Journal de Midi</h4>
                        <p style="color: #f39c12; font-weight: bold; font-size: 1.2rem;">12:00</p>
                        <p style="color: #666; font-size: 0.9rem;">Point d'actualité</p>
                    </div>

                    <div style="text-align: center; padding: 20px; border: 2px solid #28a745; border-radius: 12px;">
                        <div style="width: 60px; height: 60px; background: #28a745; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 15px; color: white; font-size: 1.5rem;">
                            <i class="fas fa-moon"></i>
                        </div>
                        <h4 style="color: #333; margin-bottom: 10px;">Journal du Soir</h4>
                        <p style="color: #28a745; font-weight: bold; font-size: 1.2rem;">19:00</p>
                        <p style="color: #666; font-size: 0.9rem;">Édition principale</p>
                    </div>

                    <div style="text-align: center; padding: 20px; border: 2px solid #4472c4; border-radius: 12px;">
                        <div style="width: 60px; height: 60px; background: #4472c4; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 15px; color: white; font-size: 1.5rem;">
                            <i class="fas fa-bolt"></i>
                        </div>
                        <h4 style="color: #333; margin-bottom: 10px;">Flash Info</h4>
                        <p style="color: #4472c4; font-weight: bold; font-size: 1.2rem;">15:30</p>
                        <p style="color: #666; font-size: 0.9rem;">Dernières nouvelles</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="sidebar">
        <!-- Breaking News -->
        <div style="background: white; border-radius: 12px; overflow: hidden; box-shadow: 0 8px 25px rgba(0,0,0,0.1); margin-bottom: 25px;">
            <h3 style="background: #e74c3c; color: white; padding: 15px 20px; margin: 0; font-size: 16px; display: flex; align-items: center; gap: 10px;">
                <i class="fas fa-exclamation-triangle"></i>
                Flash Info
            </h3>
            <div style="padding: 20px;">
                <div style="margin-bottom: 15px; padding-bottom: 15px; border-bottom: 1px solid #eee;">
                    <div style="color: #e74c3c; font-size: 12px; font-weight: bold; margin-bottom: 5px;">IL Y A 15 MIN</div>
                    <h4 style="color: #333; font-size: 0.9rem; margin-bottom: 5px;">Assemblée Nationale</h4>
                    <p style="color: #666; font-size: 0.8rem;">Session extraordinaire prévue demain matin</p>
                </div>

                <div style="margin-bottom: 15px; padding-bottom: 15px; border-bottom: 1px solid #eee;">
                    <div style="color: #e74c3c; font-size: 12px; font-weight: bold; margin-bottom: 5px;">IL Y A 1H</div>
                    <h4 style="color: #333; font-size: 0.9rem; margin-bottom: 5px;">Étalons du Burkina</h4>
                    <p style="color: #666; font-size: 0.8rem;">Victoire 2-1 face au Mali en match amical</p>
                </div>

                <div>
                    <div style="color: #e74c3c; font-size: 12px; font-weight: bold; margin-bottom: 5px;">IL Y A 2H</div>
                    <h4 style="color: #333; font-size: 0.9rem; margin-bottom: 5px;">Météo</h4>
                    <p style="color: #666; font-size: 0.8rem;">Prévisions de pluies pour le week-end</p>
                </div>
            </div>
        </div>

        <!-- Live Program -->
        <div style="background: white; border-radius: 12px; overflow: hidden; box-shadow: 0 8px 25px rgba(0,0,0,0.1); margin-bottom: 25px;">
            <h3 style="background: #28a745; color: white; padding: 15px 20px; margin: 0; font-size: 16px; display: flex; align-items: center; gap: 10px;">
                <i class="fas fa-broadcast-tower"></i>
                En Direct
            </h3>
            <div style="padding: 20px; text-align: center;">
                <div style="width: 80px; height: 80px; background: linear-gradient(135deg, #28a745, #20693e); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 15px; color: white; font-size: 1.5rem;">
                    <i class="fas fa-microphone"></i>
                </div>
                <h4 style="color: #333; margin-bottom: 10px;">Journal du Soir</h4>
                <p style="color: #666; font-size: 0.9rem; margin-bottom: 15px;">Avec Aminata Traoré</p>
                <div style="display: flex; align-items: center; justify-content: center; gap: 8px; margin-bottom: 15px;">
                    <span style="width: 8px; height: 8px; background: #e74c3c; border-radius: 50%; animation: pulse 2s infinite;"></span>
                    <span style="color: #e74c3c; font-weight: bold; font-size: 0.9rem;">EN DIRECT</span>
                </div>
                <button onclick="window.open('{{ url_for('live') }}', '_blank')" style="background: #28a745; color: white; border: none; padding: 10px 20px; border-radius: 8px; cursor: pointer; font-weight: 600; width: 100%;">
                    <i class="fas fa-play"></i> Regarder
                </button>
            </div>
        </div>

        <!-- Weather -->
        <div style="background: white; border-radius: 12px; overflow: hidden; box-shadow: 0 8px 25px rgba(0,0,0,0.1); margin-bottom: 25px;">
            <h3 style="background: #4472c4; color: white; padding: 15px 20px; margin: 0; font-size: 16px; display: flex; align-items: center; gap: 10px;">
                <i class="fas fa-cloud-sun"></i>
                Météo
            </h3>
            <div style="padding: 20px; text-align: center;">
                <div style="font-size: 2rem; color: #f39c12; margin-bottom: 10px;">
                    <i class="fas fa-sun"></i>
                </div>
                <h4 style="color: #333; margin-bottom: 5px;">Ouagadougou</h4>
                <div style="font-size: 2rem; font-weight: bold; color: #333; margin-bottom: 10px;">32°C</div>
                <p style="color: #666; font-size: 0.9rem; margin-bottom: 15px;">Ensoleillé</p>
                <div style="display: flex; justify-content: space-between; font-size: 0.8rem; color: #888;">
                    <span>Min: 24°C</span>
                    <span>Max: 35°C</span>
                </div>
            </div>
        </div>

        <!-- Publicité -->
        <div style="background: white; border-radius: 12px; overflow: hidden; box-shadow: 0 8px 25px rgba(0,0,0,0.1); margin-bottom: 25px;">
            <div style="background: #f39c12; color: white; padding: 10px 15px; text-align: center; font-size: 12px; font-weight: bold;">
                PUBLICITÉ
            </div>
            <div style="height: 250px; background: linear-gradient(135deg, #f8f9fa, #e9ecef); display: flex; align-items: center; justify-content: center;">
                <div style="text-align: center; color: #6c757d;">
                    <i class="fas fa-ad" style="font-size: 2rem; margin-bottom: 10px;"></i>
                    <div style="font-weight: 600;">Votre Pub Ici</div>
                    <div style="font-size: 0.8rem;">300 x 250</div>
                </div>
            </div>
        </div>

        <!-- Newsletter -->
        <div style="background: white; border-radius: 12px; overflow: hidden; box-shadow: 0 8px 25px rgba(0,0,0,0.1);">
            <h3 style="background: #e74c3c; color: white; padding: 15px 20px; margin: 0; font-size: 16px; display: flex; align-items: center; gap: 10px;">
                <i class="fas fa-envelope"></i>
                Newsletter
            </h3>
            <div style="padding: 20px;">
                <p style="color: #666; font-size: 0.9rem; margin-bottom: 15px;">Recevez l'actualité directement dans votre boîte mail !</p>
                <input type="email" placeholder="Votre email" style="width: 100%; padding: 10px; border: 2px solid #dee2e6; border-radius: 8px; margin-bottom: 10px; font-size: 0.9rem;">
                <button style="background: #e74c3c; color: white; border: none; padding: 10px 20px; border-radius: 8px; cursor: pointer; font-weight: 600; width: 100%;">
                    S'abonner
                </button>
            </div>
        </div>
    </div>
</div>

<style>
.news-card:hover {
    transform: translateY(-8px);
}

.news-card:hover .fas.fa-play {
    opacity: 1 !important;
}

a:hover {
    transform: translateY(-5px);
}

@keyframes pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
}

@media (max-width: 768px) {
    .main-content > div {
        grid-template-columns: 1fr !important;
        gap: 20px !important;
    }
}
</style>

<script>
// Video card click handlers
document.addEventListener('DOMContentLoaded', function() {
    const newsCards = document.querySelectorAll('.news-card');
    newsCards.forEach(card => {
        card.addEventListener('click', function() {
            const videoId = this.dataset.videoId;
            if (videoId) {
                window.open(`https://www.youtube.com/watch?v=${videoId}`, '_blank');
            }
        });
    });
});
</script>
{% endblock %}